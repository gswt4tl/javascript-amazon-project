<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Lesson 18 H/W</title>
	</head>
	<body>
		<script>
			// const xhr = new XMLHttpRequest();

			// xhr.addEventListener('load', () => {
			// 	console.log(xhr.response);
			// });

			// xhr.open('GET', 'https://supersimplebackend.dev/greeting');
			// xhr.send();

			// fetch('https://supersimplebackend.dev/greeting')
			// 	.then(response => {
			// 		return response.text();
			// 	})
			// 	.then(text => {
			// 		console.log(text);
			// 	});

			// async function fetchHello() {
			// 	const response = await fetch('https://supersimplebackend.dev/greeting');
			// 	const text = await response.text();
			// 	console.log(text);
			// }
			// fetchHello();

			// async function helloMe() {
			// 	const response = await fetch('https://supersimplebackend.dev/greeting', {
			// 		method: 'POST',
			// 		headers: {
			// 			'Content-Type': 'application/json',
			// 		},
			// 		body: JSON.stringify({ name: 'Christina' }),
			// 	});

			// 	const text = await response.text();
			// 	console.log(text);
			// }
			// helloMe();

			// async function getAmazon() {
			// 	try {
			// 		const response = await fetch('https://amazon.com');
			// 		const text = response.text();
			// 		console.log(text);
			// 	} catch (error) {
			// 		console.log('CORS error. Your request was blocked by the backend.');
			// 	}
			// }
			// getAmazon();

			async function g18() {
				try {
					const response = await fetch('https://supersimplebackend.dev/', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json',
						},
					});

					if (response.status >= 400) {
						throw response;
					}

					const text = await response.text();
					console.log(text);
				} catch (error) {
					if (error.status === 400) {
						const errorMessage = await error.json();
						console.log(errorMessage);
					} else {
						console.log('Network error. Please try again later.');
					}
				}
			}
			g18();
		</script>
	</body>
</html>
